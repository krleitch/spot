{"version":3,"sources":["../../../src/app/db/locations.ts"],"names":["addLocation","getLatestLocation","updateLocation","uuid","query","account_id","latitude","longitude","sql","values","v4","Date"],"mappings":"AAAA,cAAe,CAAEA,WAAF,CAAeC,iBAAf,CAAkCC,cAAlC,CAAf,CAEA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,KAAT,KAAsB,WAAtB,CAEA,QAASJ,CAAAA,WAAT,CACEK,UADF,CAEEC,QAFF,CAGEC,SAHF,CAIgB,CACd,KAAMC,CAAAA,GAAG,CACP,mGADF,CAEA,KAAMC,CAAAA,MAAM,CAAG,CAACN,IAAI,CAACO,EAAL,EAAD,CAAYL,UAAZ,CAAwB,GAAIM,CAAAA,IAA5B,CAAoCL,QAApC,CAA8CC,SAA9C,CAAf,CACA,MAAOH,CAAAA,KAAK,CAACI,GAAD,CAAMC,MAAN,CACb,CAED,QAASP,CAAAA,cAAT,CACEG,UADF,CAEEC,QAFF,CAGEC,SAHF,CAIgB,CACd,KAAMC,CAAAA,GAAG,CACP,0FADF,CAEA,KAAMC,CAAAA,MAAM,CAAG,CAACH,QAAD,CAAWC,SAAX,CAAsB,GAAII,CAAAA,IAA1B,CAAkCN,UAAlC,CAAf,CACA,MAAOD,CAAAA,KAAK,CAACI,GAAD,CAAMC,MAAN,CACb,CAED,QAASR,CAAAA,iBAAT,CAA2BI,UAA3B,CAA6D,CAC3D,KAAMG,CAAAA,GAAG,CACP,mHADF,CAEA,KAAMC,CAAAA,MAAM,CAAG,CAACJ,UAAD,CAAf,CACA,MAAOD,CAAAA,KAAK,CAACI,GAAD,CAAMC,MAAN,CACb","sourcesContent":["export default { addLocation, getLatestLocation, updateLocation };\n\nimport uuid from 'uuid';\nimport { query } from '@db/mySql';\n\nfunction addLocation(\n  account_id: string,\n  latitude: number,\n  longitude: number\n): Promise<any> {\n  const sql =\n    'INSERT INTO locations (id, account_id, creation_date, latitude, longitude) VALUES (?, ?, ?, ?, ?)';\n  const values = [uuid.v4(), account_id, new Date(), latitude, longitude];\n  return query(sql, values);\n}\n\nfunction updateLocation(\n  account_id: string,\n  latitude: number,\n  longitude: number\n): Promise<any> {\n  const sql =\n    'UPDATE locations SET latitude = ?, longitude = ?, creation_date = ? WHERE account_id = ?';\n  const values = [latitude, longitude, new Date(), account_id];\n  return query(sql, values);\n}\n\nfunction getLatestLocation(account_id: string): Promise<any> {\n  const sql =\n    'SELECT latitude, longitude, creation_date FROM locations WHERE account_id = ? ORDER BY creation_date DESC LIMIT 1';\n  const values = [account_id];\n  return query(sql, values);\n}\n"],"file":"locations.js"}