{"version":3,"sources":["../../../src/app/db/passwordReset.ts"],"names":["addPasswordReset","getByToken","uuid","query","account_id","token","sql","values","v4","Date"],"mappings":"AAAA,cAAe,CAAEA,gBAAF,CAAoBC,UAApB,CAAf,CAEA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,KAAT,KAAsB,WAAtB,CAEA,QAASH,CAAAA,gBAAT,CAA0BI,UAA1B,CAA8CC,KAA9C,CAA2E,CACzE,KAAMC,CAAAA,GAAG,CACP,uFADF,CAEA,KAAMC,CAAAA,MAAM,CAAG,CAACL,IAAI,CAACM,EAAL,EAAD,CAAYJ,UAAZ,CAAwB,GAAIK,CAAAA,IAA5B,CAAoCJ,KAApC,CAAf,CACA,MAAOF,CAAAA,KAAK,CAACG,GAAD,CAAMC,MAAN,CACb,CAED,QAASN,CAAAA,UAAT,CAAoBI,KAApB,CAAiD,CAC/C,KAAMC,CAAAA,GAAG,CACP,0GADF,CAEA,KAAMC,CAAAA,MAAM,CAAG,CAACF,KAAD,CAAf,CACA,MAAOF,CAAAA,KAAK,CAACG,GAAD,CAAMC,MAAN,CACb","sourcesContent":["export default { addPasswordReset, getByToken };\n\nimport uuid from 'uuid';\nimport { query } from '@db/mySql';\n\nfunction addPasswordReset(account_id: string, token: string): Promise<any> {\n  const sql =\n    'INSERT INTO password_reset (id, account_id, creation_date, token) VALUES (?, ?, ?, ?)';\n  const values = [uuid.v4(), account_id, new Date(), token];\n  return query(sql, values);\n}\n\nfunction getByToken(token: string): Promise<any> {\n  const sql =\n    'SELECT account_id, creation_date FROM password_reset WHERE token = ? ORDER BY creation_date DESC LIMIT 1';\n  const values = [token];\n  return query(sql, values);\n}\n"],"file":"passwordReset.js"}