{"version":3,"sources":["../../../src/app/db/verifyAccount.ts"],"names":["addVerifyAccount","getByToken","uuid","query","accountId","token","sql","values","v4","Date"],"mappings":"AAAA,cAAe,CAAEA,gBAAF,CAAoBC,UAApB,CAAf,CAEA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,KAAT,KAAsB,WAAtB,CAEA,QAASH,CAAAA,gBAAT,CAA0BI,SAA1B,CAA6CC,KAA7C,CAA0E,CACxE,KAAMC,CAAAA,GAAG,CACP,uFADF,CAEA,KAAMC,CAAAA,MAAM,CAAG,CAACL,IAAI,CAACM,EAAL,EAAD,CAAYJ,SAAZ,CAAuB,GAAIK,CAAAA,IAA3B,CAAmCJ,KAAnC,CAAf,CACA,MAAOF,CAAAA,KAAK,CAACG,GAAD,CAAMC,MAAN,CACb,CAED,QAASN,CAAAA,UAAT,CAAoBG,SAApB,CAAuCC,KAAvC,CAAoE,CAClE,KAAMC,CAAAA,GAAG,CACP,6HADF,CAEA,KAAMC,CAAAA,MAAM,CAAG,CAACF,KAAD,CAAQD,SAAR,CAAf,CACA,MAAOD,CAAAA,KAAK,CAACG,GAAD,CAAMC,MAAN,CACb","sourcesContent":["export default { addVerifyAccount, getByToken };\n\nimport uuid from 'uuid';\nimport { query } from '@db/mySql';\n\nfunction addVerifyAccount(accountId: string, token: string): Promise<any> {\n  const sql =\n    'INSERT INTO verify_account (id, account_id, creation_date, token) VALUES (?, ?, ?, ?)';\n  const values = [uuid.v4(), accountId, new Date(), token];\n  return query(sql, values);\n}\n\nfunction getByToken(accountId: string, token: string): Promise<any> {\n  const sql =\n    'SELECT account_id, creation_date FROM verify_account WHERE token = ? AND account_id = ? ORDER BY creation_date DESC LIMIT 1';\n  const values = [token, accountId];\n  return query(sql, values);\n}\n"],"file":"verifyAccount.js"}