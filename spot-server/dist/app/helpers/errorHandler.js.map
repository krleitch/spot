{"version":3,"sources":["../../../src/app/helpers/errorHandler.ts"],"names":["catchAsync","fn","req","res","next","catch","errorMiddleware","err","statusCode","status","json","name","body","message"],"mappings":"AACA,KAAMA,CAAAA,UAAU,CAAIC,EAAD,EAAa,CAC9B,MAAO,CAACC,GAAD,CAAWC,GAAX,CAAqBC,IAArB,GAAmC,CACxCH,EAAE,CAACC,GAAD,CAAMC,GAAN,CAAWC,IAAX,CAAF,CAAmBC,KAAnB,CAAyBD,IAAzB,CACD,CACF,CAJD,CAMA,KAAME,CAAAA,eAAe,CAAG,CAACC,GAAD,CAAWL,GAAX,CAAqBC,GAArB,CAA+BC,IAA/B,GAA6C,CACnEG,GAAG,CAACC,UAAJ,CAAiBD,GAAG,CAACC,UAAJ,EAAkB,GAAnC,CACAD,GAAG,CAACE,MAAJ,CAAaF,GAAG,CAACE,MAAJ,EAAc,OAA3B,CAEAN,GAAG,CAACM,MAAJ,CAAWF,GAAG,CAACC,UAAf,EAA2BE,IAA3B,CAAgC,CAC9BC,IAAI,CAAEJ,GAAG,CAACI,IADoB,CAE9BC,IAAI,CAAEL,GAAG,CAACK,IAFoB,CAG9BH,MAAM,CAAEF,GAAG,CAACE,MAHkB,CAI9BI,OAAO,CAAEN,GAAG,CAACM,OAJiB,CAAhC,CAMD,CAVD,CAYA,cAAe,CACbb,UADa,CAEbM,eAFa,CAAf","sourcesContent":["// Use this for catching and handling errors for async functions, catchs and throws so middleware can detect\nconst catchAsync = (fn: any) => {\n  return (req: any, res: any, next: any) => {\n    fn(req, res, next).catch(next);\n  };\n};\n\nconst errorMiddleware = (err: any, req: any, res: any, next: any) => {\n  err.statusCode = err.statusCode || 500;\n  err.status = err.status || 'error';\n\n  res.status(err.statusCode).json({\n    name: err.name,\n    body: err.body,\n    status: err.status,\n    message: err.message\n  });\n};\n\nexport default {\n  catchAsync,\n  errorMiddleware\n}"],"file":"errorHandler.js"}