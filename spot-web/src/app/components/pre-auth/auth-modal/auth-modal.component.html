<div class="spot-auth-modal">
  <div class="header">
    <span class="title"> {{ 'PRE_AUTH.AUTH_MODAL.TITLE' | translate }} </span>
    <span class="close" (click)="close()">
      <span class="material-icons"> clear </span>
    </span>
  </div>

  <div class="content">
    <div class="tab-container">
      <div
        class="tab"
        (click)="selectTab('login')"
        [ngClass]="{ selected: selectedTab === 'login' }"
      >
        {{ 'PRE_AUTH.AUTH_MODAL.LOGIN' | translate }}
      </div>
      <div
        class="tab"
        (click)="selectTab('register')"
        [ngClass]="{ selected: selectedTab === 'register' }"
      >
        {{ 'PRE_AUTH.AUTH_MODAL.REGISTER' | translate }}
      </div>
    </div>

    <div *ngIf="selectedTab === 'login'" class="login">
      <form [formGroup]="loginForm" (keyup.enter)="login()" autocomplete="on">
        <fieldset>
          <div class="form-field">
            <input
              name="emailOrUsername"
              formControlName="emailOrUsername"
              autocomplete="username"
              placeholder="{{ 'PRE_AUTH.AUTH_MODAL.EMAIL_OR_USERNAME_PLACEHOLDER' | translate }}"
              required
            />
          </div>
          <div class="form-field">
            <input
              name="password"
              formControlName="password"
              autocomplete="current-password"
              placeholder="{{ 'PRE_AUTH.AUTH_MODAL.PASSWORD_PLACEHOLDER' | translate }}"
              type="password"
              required
            />
          </div>
        </fieldset>
        <div class="error-message">
          {{ loginErrorMessage }}
        </div>
        <div class="form-buttons">
          <button
            type="button"
            [ngClass]="{ disabled: buttonsDisabled }"
            (click)="login()"
          >
            {{ 'PRE_AUTH.AUTH_MODAL.LOGIN_BUTTON' | translate }}
          </button>
        </div>
        <a (click)="close()" [routerLink]="'/password-reset'">
          {{ 'PRE_AUTH.AUTH_MODAL.FORGOT_PASSWORD' | translate }}
        </a>
      </form>
    </div>

    <div *ngIf="selectedTab === 'register'" class="register">
      <form
        [formGroup]="registerForm"
        (keyup.enter)="register()"
        autocomplete="off"
      >
        <fieldset>
          <div class="form-field">
            <input
              name="email"
              formControlName="email"
              autocomplete="off"
              placeholder="{{ 'PRE_AUTH.AUTH_MODAL.EMAIL_PLACEHOLDER' | translate }}"
              required
            />
          </div>
          <div class="form-field">
            <input
              name="username"
              formControlName="username"
              autocomplete="off"
              placeholder="{{ 'PRE_AUTH.AUTH_MODAL.USERNAME_PLACEHOLDER' | translate }}"
              required
            />
          </div>
          <div class="form-field">
            <input
              name="password"
              formControlName="password"
              autocomplete="off"
              placeholder="{{ 'PRE_AUTH.AUTH_MODAL.PASSWORD_PLACEHOLDER' | translate }}"
              type="password"
              required
            />
          </div>
          <div class="form-field">
            <input
              name="phone"
              formControlName="phone"
              autocomplete="off"
              placeholder="{{ 'PRE_AUTH.AUTH_MODAL.PHONE_PLACEHOLDER' | translate }}"
              required
            />
          </div>
        </fieldset>

        <div class="terms-and-conditions">
          <div class="checkbox-text">
            <label class="checkbox-container">
              <input
                name="terms"
                formControlName="terms"
                type="checkbox"
                required
              />
              <span class="checkmark"></span>
            </label>
            <span> {{ 'PRE_AUTH.AUTH_MODAL.TERMS_AND_CONDITIONS' | translate }} </span>
          </div>
          <div class="text" (click)="openTerms()">
            {{ 'PRE_AUTH.AUTH_MODAL.TERMS_AND_CONDITIONS_LINK' | translate }}
          </div>
        </div>

        <div class="error-message">
          {{ registerErrorMessage }}
        </div>

        <div class="form-buttons">
          <button
            type="button"
            [ngClass]="{ disabled: buttonsDisabled }"
            (click)="register()"
          >
            {{ 'PRE_AUTH.AUTH_MODAL.REGISTER_BUTTON' | translate }}
          </button>
        </div>
      </form>
    </div>

    <div class="login-options">
      <div
        *ngIf="facebookLoaded"
        type="button"
        class="facebook"
        [ngClass]="{ disabled: buttonsDisabled }"
        (click)="facebookLogin()"
      >
        <img
          src="../../../assets/images/facebook_logo_white.png"
          class="facebook-logo"
        />
        {{ 'PRE_AUTH.AUTH_MODAL.FACEBOOK_LOGIN' | translate }}
      </div>
      <!-- GOOGLE -->
      <div id="my-signin2"></div>
    </div>
  </div>
</div>
