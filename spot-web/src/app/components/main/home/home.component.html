<spot-main-nav></spot-main-nav>
<div class="locationToggle">
  <div class="global" [ngClass]="{'selectedLocation': isSelectedLocation('global') }" (click)="setGlobal()"> <i class="material-icons"> language </i> </div>
  <div class="local" [ngClass]="{'selectedLocation': isSelectedLocation('local') }" (click)="setLocal()"> <i class="material-icons"> home </i> </div>
</div>
<div class="postFilterToggle">
  <div class="new" [ngClass]="{'selectedSort': isSelectedPostSort('new') }" (click)="setNew()"> {{ STRINGS.NEW }} </div>
  <div class="hot" [ngClass]="{'selectedSort': isSelectedPostSort('hot') }" (click)="setHot()"> {{ STRINGS.HOT }} </div>
</div>
<div class="container">
  <div *ngIf="locationEnabled; else noLocation" class="content">
      <spot-create></spot-create>
      <div class="posts">
        <spot-infinite-scroll (scrolled)="onScroll()">
          <div *ngFor="let post of posts$ | async">
              <spot-post [post]="post" [detailed]="false"></spot-post>
          </div>
          <div class="loading" *ngIf="loading$ | async">
            {{ STRINGS.LOADING_POSTS }}
          </div>
        </spot-infinite-scroll>
      </div>
  </div>
  <ng-template #noLocation>
    <span class="nolocation"> {{ STRINGS.ENABLE_LOCATION }} </span>
  </ng-template>
</div>
