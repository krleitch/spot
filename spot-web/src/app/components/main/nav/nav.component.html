<div class="nav">
  <div (click)="navigateHome()" class="title-link">
    <div class="title-image"></div>
  </div>
  <div *ngIf="account$ | async as myaccount; else noAccount" class="features">
    <div *ngIf="accountMetadata$ | async as accountMetadata" class="score">
      <i class="material-icons hot"> whatshot </i>
      <span> {{ accountMetadata.score }} </span>
    </div>
    <div class="notifications" #notifications>
      <i class="material-icons" (click)="toggleNotifications()"> notifications_none </i>
      <div *ngIf="unreadNotifications != '0'" class="unread" (click)="toggleNotifications()"> {{ unreadNotifications }} </div>
      <spot-notifications *ngIf="showNotifications"></spot-notifications>
    </div>
    <div #account class="account" (click)="accountSetDropdown(true)">
      <i class="material-icons icon"> person_outline </i>
      <span class="username"> {{ myaccount.username }} </span>
      <div class="dropdown-content" [ngClass]="{'show': accountShowDropdown }">
        <a class="button" [routerLink]="'/activity'">
          <span class="material-icons icon"> show_chart </span>
          {{ STRINGS.ACTIVITY }}
        </a>
        <a class="button" [routerLink]="'/friends'">
          <span class="material-icons icon"> people_alt </span>
          {{ STRINGS.FRIENDS }}
        </a>
        <a class="button" [routerLink]="'/account'">
          <span class="material-icons icon"> settings </span>
          {{ STRINGS.ACCOUNT }}
        </a>
        <div class="button" (click)="logout()">
          <span class="material-icons icon"> directions_run </span>
          {{ STRINGS.LOGOUT }}
        </div>
      </div>
    </div>
  </div>
  <ng-template #noAccount>
    <div *ngIf="!loading || (showAccountIndicator$ | async)">
      <div class="login" (click)="openAuthModal()"> {{ STRINGS.LOGIN_REGISTER }} </div>
    </div>
  </ng-template>
</div>
