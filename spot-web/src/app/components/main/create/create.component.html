<meta charset="UTF-8" />
<div class="create">
  <div class="editor">
    <span
      #create
      contenteditable="true"
      attr.ph="{{ 'MAIN.CREATE.CREATE_PLACEHOLDER' | translate }}"
      class="content"
      (input)="onTextInput($event)"
    ></span>
    <div class="image" *ngIf="imgSrc !== null">
      <img [src]="domSanitizer.bypassSecurityTrustUrl(imgSrc)" />
    </div>
  </div>
  <span *ngIf="createError" class="create-error">
    {{ createError }}
  </span>

  <div class="option-bar">
    <div class="file-options" *ngIf="imgSrc !== null">
      <span class="file-title"> {{ 'MAIN.CREATE.FILE_TITLE' | translate }} </span>
      <span class="file-name"> {{ imageFile.name }} </span>
      <span class="file-remove" (click)="removeFile()">
        <i class="material-icons"> delete </i>
        {{ 'MAIN.CREATE.FILE_DELETE' | translate }}
      </span>
    </div>
    <input
      style="display: none"
      type="file"
      (change)="onFileChanged($event)"
      #fileInput
    />
    <span class="counter" [ngClass]="{ 'counter-error': invalidLength() }">
      {{ POSTS_CONSTANTS.MAX_CONTENT_LENGTH - currentLength }}
    </span>
    <i class="material-icons photo" (click)="fileInput.click()">
      insert_photo
    </i>
    <span class="loading" *ngIf="createLoading; else showsubmit">
      <spot-spinner size="small"> </spot-spinner>
    </span>
    <ng-template #showsubmit>
      <span class="submit" (click)="submit()">
        {{ 'MAIN.CREATE.SUBMIT' | translate }}
      </span>
    </ng-template>
  </div>
</div>
