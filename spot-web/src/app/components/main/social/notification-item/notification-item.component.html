<div class="notification-item full-width relative">
  <div
    class="row full-width padding-lg border-box clickable"
    (click)="goToPost($event)"
    [ngClass]="{ seen: !notification.seen }"
  >
    <!-- Image -->
    <div #notificationImage class="image-preview" *ngIf="userMetadata">
      <div
        class="preview-content"
        *ngIf="imageSrc"
      >
        <img
          [src]="imageSrc"
          [class.image-blur]="imageblurred && userMetadata.matureFilter"
        />
        <div
          [hidden]="!(imageBlurred && userMetadata.matureFilter)"
          class="image-blur-text"
        >
          <span class="material-icons icon"> error_outline </span>
        </div>
      </div>
    </div>

    <!-- Text -->
    <div class="text-preview">
      <div class="prompt">
        <div *ngIf="notification.commentId; else postLink">
          <div *ngIf="notification.commentParentid; else commentLink">
            <span class="username"> {{ notification.username }} </span>
            <span> {{ 'MAIN.NOTIFICATION_ITEM.REPLY_PROMPT' | translate }} </span>
            <div class="text">{{ notification.replyContent }}</div>
          </div>
          <ng-template #commentLink>
            <span class="username"> {{ notification.username }} </span>
            <span> {{ 'MAIN.NOTIFICATION_ITEM.COMMENT_PROMPT' | translate }} </span>
            <div class="text">{{ notification.commentContent }}</div>
          </ng-template>
        </div>
        <ng-template #postLink>
          <span class="username"> {{ notification.username }} </span>
          <span> {{ 'MAIN.NOTIFICATION_ITEM.PROMPT' | translate }} </span>
          <div class="text">{{ notification.content }}</div>
        </ng-template>
      </div>
    </div>

    <div class="text-secondary text-sm">{{ time }}</div>
  </div>
  <span class="material-icons icon-close icon-sm" (click)="delete()"> close </span>
</div>
